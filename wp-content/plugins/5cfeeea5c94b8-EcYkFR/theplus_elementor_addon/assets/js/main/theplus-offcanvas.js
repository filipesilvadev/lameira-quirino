!function(n){PlusOffcanvas=function(s){this.node=s,this.wrap=s.find(".plus-offcanvas-wrapper"),this.content=s.find(".plus-canvas-content-wrap"),this.button=s.find(".offcanvas-toggle-btn"),this.settings=this.wrap.data("settings"),this.id=this.settings.content_id,this.transition=this.settings.transition,this.esc_close=this.settings.esc_close,this.body_click_close=this.settings.body_click_close,this.direction=this.settings.direction,this.duration=500,this.destroy(),this.init()},PlusOffcanvas.prototype={id:"",node:"",wrap:"",content:"",button:"",settings:{},transition:"",duration:400,initialized:!1,animations:["slide","slide-along","reveal","push"],init:function(){this.wrap.length&&(n("html").addClass("plus-offcanvas-content-widget"),0===n(".plus-offcanvas-container").length&&(n("body").wrapInner('<div class="plus-offcanvas-container" />'),this.content.insertBefore(".plus-offcanvas-container")),0<this.wrap.find(".plus-canvas-content-wrap").length&&(0<n(".plus-offcanvas-container > .plus-"+this.id).length&&n(".plus-offcanvas-container > .plus-"+this.id).remove(),0<n("body > .plus-"+this.id).length&&n("body > .plus-"+this.id).remove(),n("body").prepend(this.wrap.find(".plus-canvas-content-wrap"))),this.bindEvents())},destroy:function(){this.close(),this.animations.forEach(function(s){n("html").hasClass("plus-"+s)&&n("html").removeClass("plus-"+s)}),n("body > .plus-"+this.id).length},bindEvents:function(){this.button.on("click",n.proxy(this.toggleContent,this)),n("body").delegate(".plus-canvas-content-wrap .plus-offcanvas-close","click",n.proxy(this.close,this)),"yes"===this.esc_close&&this.closeESC(),"yes"===this.body_click_close&&this.closeClick()},toggleContent:function(){n("html").hasClass("plus-open")?this.close():this.show()},show:function(){n(".plus-"+this.id).addClass("plus-visible"),n("html").addClass("plus-"+this.transition),n("html").addClass("plus-"+this.direction),n("html").addClass("plus-open"),n("html").addClass("plus-"+this.id+"-open"),n("html").addClass("plus-reset"),this.button.addClass("plus-is-active")},close:function(){n("html").removeClass("plus-open"),n("html").removeClass("plus-"+this.id+"-open"),setTimeout(n.proxy(function(){n("html").removeClass("plus-reset"),n("html").removeClass("plus-"+this.transition),n("html").removeClass("plus-"+this.direction),n(".plus-"+this.id).removeClass("plus-visible")},this),500),this.button.removeClass("plus-is-active")},closeESC:function(){var t=this;""!==t.settings.esc_close&&n(document).on("keydown",function(s){27===s.keyCode&&t.close()})},closeClick:function(){var t=this;n(document).on("click",function(s){n(s.target).is(".plus-canvas-content-wrap")||0<n(s.target).parents(".plus-canvas-content-wrap").length||n(s.target).is(".offcanvas-toggle-btn")||0<n(s.target).parents(".offcanvas-toggle-btn").length||t.close()})}}}(jQuery);