!function(r,e){"use strict";var c=r.extend({scroll_item_selector:!1,scroll_content_selector:!1,scroll_next_selector:!1,is_shop:!1,loader:!1},{scroll_item_selector:wpbf_scroll_objects.item_Selector,scroll_content_selector:wpbf_scroll_objects.content_Selector,scroll_next_selector:wpbf_scroll_objects.next_Selector,is_shop:!0,loader:wpbf_scroll_objects.image_loader}),n=!1,i=!1,_=r(c.scroll_next_selector).attr("href");if(0==!r(c.post_scroll_next_selector).length&&0==!r(c.scroll_item_selector).length&&0==!r(c.scroll_content_selector).length&&(i=!0),0!=r(c.scroll_next_selector).length){var a=r(c.scroll_content_selector).find(c.scroll_item_selector).first().nextUntil(".wpbf-woo-infinite-first",c.scroll_item_selector).length+1,f=function(e,t,l){var o=t-e.prevUntil(".wpbf-woo-infinite-last",c.scroll_item_selector).length,s=0;l.each(function(){var e=r(this);s++,e.removeClass("wpbf-woo-infinite-first"),e.removeClass("wpbf-woo-infinite-last"),(s-o)%t==0?e.addClass("wpbf-woo-infinite-last"):(s-(o-1))%t==0&&e.addClass("wpbf-woo-infinite-last")})};r(e).on("scroll touchstart",function(){var e=r(this),t=r(c.scroll_item_selector).last().offset();!n&&!i&&e.scrollTop()>=Math.abs(t.top-(e.height()-150))&&function(){var s=r(c.scroll_content_selector).find(c.scroll_item_selector).last();c.loader&&r(c.scroll_content_selector).after('<div class="scroll-loader"><center><img src="'+c.loader+'"/></center><br></div>'),n=!0,r.ajax({url:_,dataType:"html",success:function(e){var t=r(e),l=t.find(c.scroll_item_selector),o=t.find(c.scroll_next_selector);o.length?_=o.attr("href"):i=!0,!s.hasClass("wpbf-woo-infinite-last")&&c.is_shop&&f(s,a,l),l.css({opacity:"0"}),s.after(l),r(".scroll-loader").remove(),l.fadeTo(800,1,function(){n=!1})}})}()})}else i=!0}(jQuery,window,document);