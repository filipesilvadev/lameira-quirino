"use strict";!function(){var n;jQuery.wp.wpColorPicker.prototype._hasAlpha||(n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==",__=wp.i18n.__,Color.fn.toString=function(){var t;return this._alpha<1?this.toCSS("rgba",this._alpha).replace(/\s+/g,""):(t=parseInt(this._color,10).toString(16),this.error?"":"#"+(t=t.length<6?("00000"+t).substr(-6):t))},jQuery.widget("wp.wpColorPicker",jQuery.wp.wpColorPicker,{_hasAlpha:!0,_create:function(){var i=this,t=i.element;if(jQuery.support.iris){if(jQuery.extend(i.options,t.data()),"hue"===i.options.type)return i._createHueOnly();i.close=jQuery.proxy(i.close,i),i.initialValue=t.val(),t.addClass("wp-color-picker"),t.parent("label").length||(t.wrap("<label></label>"),i.wrappingLabelText=jQuery('<span class="screen-reader-text"></span>').insertBefore(t).text(__("Color value"))),i.wrappingLabel=t.parent(),i.wrappingLabel.wrap('<div class="wp-picker-container" />'),i.wrap=i.wrappingLabel.parent(),i.toggler=jQuery('<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>').insertBefore(i.wrappingLabel).css({backgroundColor:i.initialValue}),i.toggler.find(".wp-color-result-text").text(__("Select Color")),i.pickerContainer=jQuery('<div class="wp-picker-holder" />').insertAfter(i.wrappingLabel),i.button=jQuery('<input type="button" class="button button-small" />'),i.options.defaultColor?(i.button.addClass("wp-picker-default").val(__("Default")),i.button.attr("aria-label",__("Select default color"))):(i.button.addClass("wp-picker-clear").val(__("Clear")),i.button.attr("aria-label",__("Clear color"))),i.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(i.button),i.inputWrapper=t.closest(".wp-picker-input-wrap"),t.iris({target:i.pickerContainer,hide:i.options.hide,width:i.options.width,mode:i.options.mode,palettes:i.options.palettes,change:function(t,e){i.options.alpha?(i.toggler.css({"background-image":"url("+n+")"}),i.toggler.css({position:"relative"}),0===i.toggler.find("span.color-alpha").length&&i.toggler.append('<span class="color-alpha"></span>'),i.toggler.find("span.color-alpha").css({"min-width":"30px","min-height":"100%",position:"absolute",top:0,left:0,"border-top-left-radius":"2px","border-bottom-left-radius":"2px",background:e.color.toString()})):i.toggler.css({backgroundColor:e.color.toString()}),jQuery.isFunction(i.options.change)&&i.options.change.call(this,t,e)}}),t.val(i.initialValue),i._addListeners(),i.options.hide||i.toggler.click()}},_addListeners:function(){var e=this;e.wrap.on("click.wpcolorpicker",function(t){t.stopPropagation()}),e.toggler.click(function(){e.toggler.hasClass("wp-picker-open")?e.close():e.open()}),e.element.on("change",function(t){""!==jQuery(this).val()&&!e.element.hasClass("iris-error")||((e.options.alpha?e.toggler.find("span.color-alpha"):e.toggler).css("backgroundColor",""),jQuery.isFunction(e.options.clear)&&e.options.clear.call(this,t))}),e.button.on("click",function(t){jQuery(this).hasClass("wp-picker-clear")?(e.element.val(""),(e.options.alpha?e.toggler.find("span.color-alpha"):e.toggler).css("backgroundColor",""),jQuery.isFunction(e.options.clear)&&e.options.clear.call(this,t),e.element.trigger("change")):jQuery(this).hasClass("wp-picker-default")&&e.element.val(e.options.defaultColor).change()})}}),jQuery.widget("a8c.iris",jQuery.a8c.iris,{_create:function(){var i,t,e,o,a,r;this._super(),this.options.alpha=this.element.data("alpha")||!1,this.element.is(":input")||(this.options.alpha=!1),void 0!==this.options.alpha&&this.options.alpha&&(t=(i=this).element,o=(e=jQuery('<div class="iris-strip iris-slider iris-alpha-slider"><div class="iris-slider-offset iris-slider-offset-alpha"></div></div>').appendTo(i.picker.find(".iris-picker-inner"))).find(".iris-slider-offset-alpha"),o={aContainer:e,aSlider:o},void 0!==t.data("custom-width")?i.options.customWidth=parseInt(t.data("custom-width"),10)||0:i.options.customWidth=100,i.options.defaultWidth=t.width(),(i._color._alpha<1||-1!==i._color.toString().indexOf("rgb"))&&t.width(parseInt(i.options.defaultWidth+i.options.customWidth,10)),jQuery.each(o,function(t,e){i.controls[t]=e}),i.controls.square.css({"margin-right":"0"}),o=i.picker.width()-i.controls.square.width()-20,r=o/2-(a=o/6),jQuery.each(["aContainer","strip"],function(t,e){i.controls[e].width(r).css({"margin-left":a+"px"})}),i._initControls(),i._change())},_initControls:function(){var i;this._super(),this.options.alpha&&(i=this).controls.aSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(100*i._color._alpha,10),slide:function(t,e){i._color._alpha=parseFloat(e.value/100),i._change.apply(i,arguments)}})},_change:function(){var t,e,i,o,a,r,l=this,s=l.element;this._super(),this.options.alpha&&(t=l.controls,e=parseInt(100*l._color._alpha,10),i=["rgb("+(r=l._color.toRgb()).r+","+r.g+","+r.b+") 0%","rgba("+r.r+","+r.g+","+r.b+", 0) 100%"],o=l.options.defaultWidth,a=l.options.customWidth,r=l.picker.closest(".wp-picker-container").find(".wp-color-result"),t.aContainer.css({background:"linear-gradient(to bottom, "+i.join(", ")+"), url("+n+")"}),r.hasClass("wp-picker-open")&&(t.aSlider.slider("value",e),l._color._alpha<1?(t.strip.attr("style",t.strip.attr("style").replace(/rgba\(([0-9]+,)(\s+)?([0-9]+,)(\s+)?([0-9]+)(,(\s+)?[0-9\.]+)\)/g,"rgb($1$3$5)")),s.width(parseInt(o+a,10))):s.width(o))),!s.data("reset-alpha")&&1||l.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){l._color._alpha=1,l.active="external",l._change()}),l._inited&&l._trigger("change",{type:l.active},{color:l._color})}}))}(jQuery);